"use strict";(()=>{var e={};e.id=390,e.ids=[390],e.modules={38013:e=>{e.exports=require("mongodb")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},28786:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>h,patchFetch:()=>v,requestAsyncStorage:()=>m,routeModule:()=>g,serverHooks:()=>x,staticGenerationAsyncStorage:()=>f});var r={};s.r(r),s.d(r,{DELETE:()=>p,dynamic:()=>d});var n=s(49303),o=s(88716),a=s(60670),i=s(87070),l=s(38013);let u=process.env.MONGODB_URI||"";async function c(){let e=new l.MongoClient(u);return await e.connect(),e}let d="force-dynamic";async function p(e){let t=null;try{let s;let r=new URL(e.url).searchParams.get("id");if(console.log("Received ID for deletion:",r),!r)return i.NextResponse.json({success:!1,message:"Meeting ID is required."},{status:400});let n=(t=await c()).db();try{s=new l.ObjectId(r)}catch(e){return console.error("Invalid ObjectId format:",r),i.NextResponse.json({success:!1,message:"Invalid meeting ID format."},{status:400})}let o=await n.collection("carbot").deleteOne({_id:s});if(console.log("Delete result:",o),0===o.deletedCount)return i.NextResponse.json({success:!1,message:"Meeting not found or already deleted."},{status:404});return i.NextResponse.json({success:!0,message:"Meeting deleted successfully."},{status:200})}catch(t){console.error("Error deleting meeting:",t);let e=t instanceof Error?t.message:String(t);return i.NextResponse.json({success:!1,message:`An error occurred while deleting the meeting: ${e}`},{status:500})}finally{t&&await t.close()}}let g=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/delete/route",pathname:"/api/delete",filename:"route",bundlePath:"app/api/delete/route"},resolvedPagePath:"D:\\Gym-Dashboard-main\\app\\api\\delete\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:f,serverHooks:x}=g,h="/api/delete/route";function v(){return(0,a.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:f})}},49303:(e,t,s)=>{e.exports=s(30517)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,70],()=>s(28786));module.exports=r})();