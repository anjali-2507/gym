"use strict";(()=>{var e={};e.id=48,e.ids=[48],e.modules={38013:e=>{e.exports=require("mongodb")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84893:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>y,patchFetch:()=>v,requestAsyncStorage:()=>h,routeModule:()=>g,serverHooks:()=>x,staticGenerationAsyncStorage:()=>f});var o={};n.r(o),n.d(o,{GET:()=>m,dynamic:()=>p});var r=n(49303),a=n(88716),s=n(60670),i=n(87070),c=n(38013);let l=process.env.MONGODB_URI||"",u={serverSelectionTimeoutMS:5e3,connectTimeoutMS:1e5};async function d(){console.log("Attempting to connect to MongoDB...");let e=new c.MongoClient(l,u);return await e.connect(),console.log("Successfully connected to MongoDB"),e}let p="force-dynamic";async function m(e){let t=null;try{let e=(t=await d()).db("Gym_Management"),n=await e.collection("clients").find({}).toArray();console.log(`Retrieved ${n.length} documents from the database`);let o=n.map(e=>({_id:e._id,clientName:e.clientName,clientNumber:e.clientNumber,role:e.role}));return i.NextResponse.json({success:!0,message:"Data fetched successfully",data:o},{status:200})}catch(t){console.error("Error in Fetching",t);let e="Error in Fetching";return t instanceof Error&&(e+=": "+t.message),i.NextResponse.json({success:!1,message:e},{status:500})}finally{t&&(await t.close(),console.log("MongoDB connection closed"))}}let g=new r.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/clientdata/route",pathname:"/api/clientdata",filename:"route",bundlePath:"app/api/clientdata/route"},resolvedPagePath:"D:\\Gym-Dashboard-main\\app\\api\\clientdata\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:h,staticGenerationAsyncStorage:f,serverHooks:x}=g,y="/api/clientdata/route";function v(){return(0,s.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:f})}},49303:(e,t,n)=>{e.exports=n(30517)}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),o=t.X(0,[948,70],()=>n(84893));module.exports=o})();