(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{75436:function(e,t,r){Promise.resolve().then(r.bind(r,69222))},69222:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var a=r(57437),s=r(2265),n=r(94508);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})}).displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter";var c=r(51817);function o(){let[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[o,u]=(0,s.useState)(""),[m,x]=(0,s.useState)(!1),[h,f]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),[N,y]=(0,s.useState)("user"),[b,j]=(0,s.useState)(""),v=async()=>{try{let e=await fetch("/api/clientdata"),r=await e.json();if(r.success&&r.data)t(r.data);else throw Error(r.message||"Failed to fetch users")}catch(e){u("Error fetching users: "+(e instanceof Error?e.message:String(e)))}finally{n(!1)}},w=async e=>{e.preventDefault();try{let e=await fetch("/api/addclient",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientName:h,clientNumber:p,role:N})}),t=await e.json();t.success?(j("Client added successfully!"),f(""),g(""),y("user"),v(),x(!1)):j("Failed to add client: ".concat(t.message))}catch(e){j("An error occurred while adding the client"),console.error("Error:",e)}},C=e=>{let{name:t,value:r}=e.target;"clientName"===t&&f(r),"clientNumber"===t&&g(r.replace(/^(\d{0,2})?(\d{0,10})/,"91$2")),"role"===t&&y(r)};return((0,s.useEffect)(()=>{v()},[]),r)?(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)(c.Z,{className:"h-8 w-8 animate-spin text-gray-500"})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-900",children:(0,a.jsxs)("div",{className:"p-4 md:p-6",children:[o&&(0,a.jsx)("div",{className:"mb-4 rounded-lg bg-red-100 p-4 text-red-700",children:o}),(0,a.jsxs)(l,{children:[(0,a.jsxs)(i,{className:"px-6 py-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Client Data"}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:()=>{x(!0)},className:"rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600",children:"Add Client"})})]}),(0,a.jsx)(d,{className:"p-0",children:(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"max-h-[calc(100vh-12rem)] overflow-auto",children:(0,a.jsxs)("div",{className:"min-w-full",children:[(0,a.jsx)("div",{className:"sticky top-0 bg-gray-100 shadow-sm hover: dark:bg-gray-900 ",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-gray-700 dark:text-white ",children:[(0,a.jsx)("div",{className:"p-4 text-center font-semibold",children:"Client Name"}),(0,a.jsx)("div",{className:"p-4 text-center font-semibold",children:"Client Number"}),(0,a.jsx)("div",{className:"p-4 text-center font-semibold",children:"Role"})]})}),(0,a.jsx)("div",{children:0===e.length?(0,a.jsx)("div",{className:"flex h-32 items-center justify-center text-gray-500",children:"No users found"}):e.map(e=>(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 border-b border-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 light ",children:[(0,a.jsx)("div",{className:"p-4 text-center text-gray-800 dark:text-white",children:e.clientName||"N/A"}),(0,a.jsx)("div",{className:"p-4 text-center text-gray-800 dark:text-white",children:e.clientNumber||"N/A"}),(0,a.jsx)("div",{className:"p-4 text-center text-gray-800 dark:text-white",children:e.role||"N/A"})]},e._id))})]})})})})]}),m&&(0,a.jsx)("div",{className:"bg-grey fixed inset-0 flex items-center justify-center bg-opacity-50",children:(0,a.jsxs)("div",{className:"w-96 rounded-lg bg-white p-6 shadow-lg dark:bg-gray-900",children:[(0,a.jsx)("h3",{className:"mb-4 text-lg font-bold text-gray-900 dark:text-white",children:"Add New Client"}),(0,a.jsxs)("form",{onSubmit:w,children:[(0,a.jsx)("input",{type:"text",name:"clientName",placeholder:"Client Name",value:h,onChange:C,className:"mb-4 w-full rounded border px-3 py-2",required:!0}),(0,a.jsx)("input",{type:"text",name:"clientNumber",placeholder:"Client Number",value:p,onChange:C,className:"mb-4 w-full rounded border px-3 py-2",required:!0}),(0,a.jsxs)("select",{id:"role",name:"role",value:N,onChange:e=>y(e.target.value),className:"mb-4 w-full rounded border px-3 py-2",children:[(0,a.jsx)("option",{value:"Role",disabled:!0,children:"Role"}),(0,a.jsx)("option",{value:"user",children:"User"}),(0,a.jsx)("option",{value:"owner",children:"Owner"}),(0,a.jsx)("option",{value:"trainer",children:"Trainer"})]}),(0,a.jsxs)("div",{className:"flex justify-end",children:[(0,a.jsx)("button",{type:"button",onClick:()=>x(!1),className:"mr-2 px-4 py-2 text-gray-500 hover:text-gray-700",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600",children:"Submit"})]}),b&&(0,a.jsx)("p",{className:"mt-4 text-center",children:b})]})]})})]})})}},94508:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(61994),s=r(71407);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m)((0,a.W)(t))}},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:c="",children:o,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:r,strokeWidth:d?24*Number(i)/Number(s):i,className:n("lucide",c),...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),d=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:d,...c}=r;return(0,a.createElement)(i,{ref:l,iconNode:t,className:n("lucide-".concat(s(e)),d),...c})});return r.displayName="".concat(e),r}},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},function(e){e.O(0,[579,971,117,744],function(){return e(e.s=75436)}),_N_E=e.O()}]);